"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const polyfill_response_1 = require("../polyfill-response");
describe('transformResponse', () => {
    it('converts headers to Headers object', async () => {
        const fetch = jest.fn();
        fetch.mockResolvedValue({
            headers: {
                location: 'https://test.com',
                'content-length': '0'
            },
            foo: 'bar'
        });
        const wrappedFetch = polyfill_response_1.transformResponse(fetch);
        const result = await wrappedFetch('https://whatever.com');
        expect(result.headers.raw()).toEqual({
            location: ['https://test.com'],
            'content-length': ['0']
        });
        expect(result.foo).toEqual('bar');
    });
});
